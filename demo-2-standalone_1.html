<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  <meta name="theme-color" content="#ff1744">
  <title>LiveStream Tips - STANDALONE</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #000;
      color: #fff;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -webkit-tap-highlight-color: transparent;
    }
    
    /* Top Header */
    .top-header {
      position: sticky;
      top: 0;
      background: linear-gradient(135deg, #ff1744, #c62828);
      border-bottom: 2px solid #ffc107;
      padding: 12px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 100;
      box-shadow: 0 4px 12px rgba(255, 23, 68, 0.4);
    }
    
    .brand { font-size: 22px; font-weight: 900; }
    
    .token-badge {
      background: linear-gradient(135deg, #ffc107, #ffb300);
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: 900;
      font-size: 16px;
      color: #000;
      box-shadow: 0 4px 12px rgba(255, 193, 7, 0.5);
      animation: shimmer 3s infinite;
    }
    
    @keyframes shimmer {
      0%, 100% { box-shadow: 0 4px 12px rgba(255, 193, 7, 0.5); }
      50% { box-shadow: 0 4px 20px rgba(255, 193, 7, 0.8); }
    }
    
    /* Bottom Nav */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #1a0a0a;
      border-top: 1px solid #ff1744;
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      padding: 8px 0;
      z-index: 1000;
      box-shadow: 0 -4px 20px rgba(255, 23, 68, 0.3);
    }
    
    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      padding: 8px;
      color: #ff8a80;
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
      border: none;
      background: transparent;
    }
    
    .nav-item.active { color: #ff1744; }
    .nav-item-icon { font-size: 22px; }
    
    /* Pages */
    .page { display: none; padding-bottom: 80px; }
    .page.active { display: block; }
    
    /* Stream Grid */
    .stream-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
      padding: 16px;
    }
    
    @media (min-width: 768px) {
      .stream-grid { grid-template-columns: repeat(2, 1fr); }
    }
    
    @media (min-width: 1024px) {
      .stream-grid { grid-template-columns: repeat(3, 1fr); }
      .bottom-nav { display: none; }
    }
    
    .stream-card {
      background: #1a0a0a;
      border: 2px solid #2a2020;
      border-radius: 12px;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .stream-card:active {
      transform: scale(0.98);
      border-color: #ff1744;
      box-shadow: 0 8px 24px rgba(255, 23, 68, 0.4);
    }
    
    .stream-thumbnail {
      position: relative;
      padding-top: 56.25%;
      background: linear-gradient(135deg, #ff1744, #c62828);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .stream-avatar {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 60px;
      font-weight: 900;
      color: rgba(255,255,255,0.3);
    }
    
    .live-badge {
      position: absolute;
      top: 12px;
      left: 12px;
      background: #ff1744;
      padding: 8px 14px;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 900;
      display: flex;
      align-items: center;
      gap: 6px;
      border: 2px solid #ffc107;
      animation: pulse-glow 2s infinite;
    }
    
    @keyframes pulse-glow {
      0%, 100% { 
        box-shadow: 0 0 10px rgba(255, 23, 68, 0.6);
        opacity: 1;
      }
      50% { 
        box-shadow: 0 0 20px rgba(255, 23, 68, 1);
        opacity: 0.8;
      }
    }
    
    .pulse-dot {
      width: 8px;
      height: 8px;
      background: white;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.4; }
    }
    
    .viewer-count {
      position: absolute;
      top: 12px;
      right: 12px;
      background: linear-gradient(135deg, #ffc107, #ffb300);
      padding: 8px 14px;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 900;
      color: #000;
      border: 2px solid #fff;
    }
    
    .stream-info {
      padding: 16px;
    }
    
    .stream-name {
      font-size: 18px;
      font-weight: 700;
      color: #ff1744;
      margin-bottom: 6px;
    }
    
    .stream-title {
      color: #ff8a80;
      font-size: 14px;
    }
    
    /* Room Page */
    .video-container {
      position: relative;
      background: #000;
      min-height: 60vh;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }
    
    .room-avatar {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 60px;
      font-weight: 900;
      margin-bottom: 20px;
      border: 4px solid #ffc107;
      box-shadow: 0 0 30px #ffc107;
    }
    
    .room-name {
      font-size: 24px;
      font-weight: 900;
      color: #ff1744;
      margin-bottom: 8px;
    }
    
    .room-title {
      color: #ff8a80;
      margin-bottom: 16px;
    }
    
    .room-stats {
      display: flex;
      gap: 12px;
    }
    
    .stat-badge {
      padding: 10px 18px;
      border-radius: 8px;
      font-weight: 900;
      font-size: 15px;
    }
    
    .stat-live {
      background: #ff1744;
      border: 2px solid #ffc107;
      animation: pulse-glow 2s infinite;
    }
    
    .stat-viewers {
      background: linear-gradient(135deg, #ffc107, #ffb300);
      color: #000;
    }
    
    /* Tip Buttons */
    .tip-section {
      padding: 0 16px 16px;
      display: flex;
      gap: 12px;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }
    
    .tip-section::-webkit-scrollbar { display: none; }
    
    .tip-btn {
      min-width: 140px;
      background: linear-gradient(135deg, #ff1744, #ff6b35);
      color: #fff;
      padding: 16px 20px;
      border-radius: 12px;
      font-weight: 900;
      text-align: center;
      box-shadow: 0 4px 16px rgba(255, 23, 68, 0.4);
      border: 2px solid #ffc107;
      cursor: pointer;
      flex-shrink: 0;
    }
    
    .tip-btn:active {
      transform: scale(0.95);
      box-shadow: 0 8px 24px rgba(255, 23, 68, 0.6);
    }
    
    .tip-label {
      font-size: 18px;
      margin-bottom: 4px;
    }
    
    .tip-amount {
      font-size: 16px;
      font-weight: 900;
    }
    
    /* Chat */
    .chat-section {
      padding: 16px;
    }
    
    .chat-title {
      font-size: 18px;
      font-weight: 700;
      color: #ff1744;
      margin-bottom: 16px;
    }
    
    .chat-messages {
      display: flex;
      flex-direction: column;
      gap: 12px;
      max-height: 400px;
      overflow-y: auto;
    }
    
    .chat-msg {
      background: rgba(255, 193, 7, 0.2);
      border: 2px solid #ffc107;
      border-radius: 8px;
      padding: 12px;
    }
    
    .chat-user {
      font-weight: 900;
      color: #ffc107;
      margin-right: 8px;
    }
    
    /* Lovense Sheet */
    .sheet-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.7);
      z-index: 998;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
    }
    
    .sheet-overlay.visible {
      opacity: 1;
      pointer-events: all;
    }
    
    .bottom-sheet {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #1a0a0a;
      border-top: 3px solid #ffc107;
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
      max-height: 70vh;
      transform: translateY(100%);
      transition: transform 0.3s;
      z-index: 999;
      box-shadow: 0 -6px 24px rgba(255, 23, 68, 0.4);
      overflow-y: auto;
    }
    
    .bottom-sheet.open {
      transform: translateY(0);
    }
    
    .sheet-handle {
      width: 40px;
      height: 4px;
      background: #ff1744;
      border-radius: 2px;
      margin: 12px auto 16px;
      box-shadow: 0 0 8px #ff1744;
    }
    
    .sheet-header {
      padding: 0 20px 16px;
      border-bottom: 1px solid #2a2020;
    }
    
    .sheet-title {
      font-size: 20px;
      font-weight: 900;
      color: #ff4da6;
      margin-bottom: 4px;
    }
    
    .sheet-subtitle {
      font-size: 13px;
      color: #ff8a80;
    }
    
    .sheet-content {
      padding: 20px;
    }
    
    .lovense-item {
      background: linear-gradient(135deg, #ff4da6, #c9377f);
      border: 2px solid #ffc107;
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 12px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .lovense-item:active {
      transform: scale(0.98);
    }
    
    .lovense-label {
      font-size: 18px;
      font-weight: 900;
    }
    
    .lovense-cost {
      background: linear-gradient(135deg, #ffc107, #ffb300);
      color: #000;
      padding: 6px 14px;
      border-radius: 6px;
      font-size: 16px;
      font-weight: 900;
    }
    
    .close-btn {
      background: #1a0a0a;
      border: 2px solid #ff1744;
      color: white;
      width: 44px;
      height: 44px;
      border-radius: 50%;
      font-size: 20px;
      cursor: pointer;
      position: absolute;
      top: 20px;
      right: 20px;
    }
    
    /* Floating Private Show Button */
    .floating-private-btn {
      position: fixed;
      right: 16px;
      bottom: 35vh;
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, #ffc107, #ff8c00, #9b59b6);
      border: 3px solid #ffc107;
      color: white;
      font-weight: 900;
      cursor: pointer;
      z-index: 99;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 2px;
      box-shadow: 0 8px 24px rgba(255, 193, 7, 0.6);
      animation: floatPulse 3s infinite;
    }
    
    .floating-private-btn:active {
      transform: scale(0.95);
    }
    
    @keyframes floatPulse {
      0%, 100% {
        box-shadow: 0 8px 24px rgba(255, 193, 7, 0.6);
        transform: scale(1);
      }
      50% {
        box-shadow: 0 12px 32px rgba(255, 193, 7, 0.8);
        transform: scale(1.05);
      }
    }
    
    .floating-btn-icon {
      font-size: 26px;
      line-height: 1;
    }
    
    .floating-btn-text {
      font-size: 10px;
      font-weight: 900;
      letter-spacing: 0.5px;
      line-height: 1;
    }
    
    .floating-btn-price {
      font-size: 11px;
      font-weight: 900;
      color: #000;
      background: rgba(255,255,255,0.9);
      padding: 2px 6px;
      border-radius: 4px;
      line-height: 1;
    }
    
    @media (min-width: 1024px) {
      .floating-private-btn {
        width: 90px;
        height: 90px;
      }
      .floating-btn-icon {
        font-size: 30px;
      }
      .floating-btn-text {
        font-size: 11px;
      }
      .floating-btn-price {
        font-size: 12px;
      }
    }
    
    /* Controls */
    .room-controls {
      position: absolute;
      bottom: 16px;
      left: 16px;
      right: 16px;
      display: flex;
      gap: 12px;
    }
    
    .control-btn {
      flex: 1;
      background: linear-gradient(135deg, #ff4da6, #c9377f);
      border: 2px solid #ffc107;
      color: white;
      font-size: 15px;
      font-weight: 900;
      padding: 14px 20px;
      border-radius: 8px;
      cursor: pointer;
    }
    
    .control-btn:active {
      transform: scale(0.95);
    }
    
    /* Token Packages */
    .package-grid {
      display: grid;
      gap: 16px;
      padding: 16px;
    }
    
    .package-card {
      background: #1a0a0a;
      border: 2px solid #2a2020;
      border-radius: 12px;
      padding: 20px;
      position: relative;
    }
    
    .package-card.popular {
      border: 3px solid #ffc107;
      box-shadow: 0 8px 24px rgba(255, 193, 7, 0.4);
    }
    
    .popular-badge {
      position: absolute;
      top: -12px;
      left: 16px;
      background: linear-gradient(135deg, #ffc107, #ffb300);
      padding: 6px 16px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 900;
      color: #000;
      box-shadow: 0 4px 12px rgba(255, 193, 7, 0.5);
    }
    
    .package-icon {
      font-size: 48px;
      margin-bottom: 8px;
    }
    
    .package-name {
      font-size: 20px;
      font-weight: 900;
      margin-bottom: 4px;
      color: #ffc107;
    }
    
    .package-tokens {
      font-size: 36px;
      font-weight: 900;
      color: #ff1744;
      margin-bottom: 4px;
    }
    
    .package-label {
      font-size: 13px;
      color: #ff8a80;
      margin-bottom: 16px;
    }
    
    .buy-btn {
      width: 100%;
      background: linear-gradient(135deg, #ffc107, #ffb300);
      color: #000;
      padding: 16px;
      border-radius: 8px;
      font-size: 18px;
      font-weight: 900;
      border: 2px solid #ffc107;
      box-shadow: 0 4px 16px rgba(255, 193, 7, 0.3);
      cursor: pointer;
    }
    
    .buy-btn:active {
      transform: scale(0.95);
    }
    
    .buy-btn.popular {
      background: linear-gradient(135deg, #ff1744, #ff6b35);
      color: #fff;
    }
  </style>
</head>
<body>
  <!-- Top Header -->
  <div class="top-header">
    <div class="brand">üíé LiveStream</div>
    <div class="token-badge" id="tokenBadge">ü™ô 250</div>
  </div>

  <!-- Lobby Page -->
  <div class="page active" id="lobbyPage">
    <div class="stream-grid" id="streamGrid"></div>
  </div>

  <!-- Room Page -->
  <div class="page" id="roomPage">
    <div class="video-container">
      <div class="room-avatar" id="roomAvatar"></div>
      <div class="room-name" id="roomName"></div>
      <div class="room-title" id="roomTitle"></div>
      <div class="room-stats">
        <div class="stat-badge stat-live">
          <div class="pulse-dot" style="display: inline-block; vertical-align: middle;"></div>
          <span style="margin-left: 6px;">LIVE</span>
        </div>
        <div class="stat-badge stat-viewers" id="roomViewers"></div>
      </div>
      
      <!-- Private Show Timer (shows during private show) -->
      <div id="privateTimer" style="display: none; margin-top: 16px; background: linear-gradient(135deg, rgba(255,215,0,0.2), rgba(155,89,182,0.2)); border: 2px solid #ffc107; border-radius: 12px; padding: 16px; text-align: center;">
        <div style="font-size: 12px; color: #ffc107; margin-bottom: 4px; font-weight: 700;">üîí PRIVATE SHOW</div>
        <div style="font-size: 32px; font-weight: 900; color: #fff; font-family: monospace;" id="timerDisplay">10:00</div>
        <div style="font-size: 11px; color: #ff8a80; margin-top: 4px;">Time Remaining</div>
      </div>
      
      <!-- More Time Button (shows during private show) -->
      <button id="moreTimeBtn" onclick="showMoreTimeOptions()" style="display: none; width: 90%; margin: 16px auto 0; background: linear-gradient(135deg, #ffc107, #ff8c00); color: #000; border: 3px solid #ffc107; padding: 16px; border-radius: 12px; font-size: 16px; font-weight: 900; cursor: pointer; box-shadow: 0 6px 20px rgba(255, 193, 7, 0.4); animation: shimmer 3s infinite;">
        ‚ûï ADD MORE TIME
      </button>
      
      <div class="room-controls">
        <button class="control-btn" onclick="openLovense()">üî• Lovense</button>
        <button class="control-btn" style="background: #1a0a0a; border-color: #ff1744;">üí¨ Chat</button>
      </div>
    </div>
    
    <div class="tip-section" id="tipButtons"></div>
    
    <div class="chat-section">
      <div class="chat-title">üí¨ Recent Activity</div>
      <div class="chat-messages" id="chatMessages"></div>
    </div>
  </div>

  <!-- Tokens Page -->
  <div class="page" id="tokensPage">
    <div style="padding: 20px 16px 16px;">
      <h2 style="margin-bottom: 8px; color: #ff1744; font-size: 24px;">üí≥ Buy Tokens</h2>
      <p style="color: #ff8a80; margin-bottom: 24px;">Purchase tokens to tip streamers</p>
    </div>
    <div class="package-grid" id="packageGrid"></div>
  </div>

  <!-- Dashboard Page -->
  <div class="page" id="dashboardPage">
    <div style="padding: 20px 16px;">
      <h2 style="margin-bottom: 20px; color: #ff1744; font-size: 24px;">‚öôÔ∏è Streamer Dashboard</h2>
      
      <!-- Tip Button Configurator -->
      <div style="background: #1a0a0a; border: 2px solid #ff1744; border-radius: 12px; padding: 20px; margin-bottom: 16px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
          <h3 style="color: #ff1744; font-size: 18px;">üí∞ Custom Tip Buttons</h3>
          <div style="background: rgba(255, 23, 68, 0.2); padding: 6px 12px; border-radius: 8px; border: 1px solid #ff1744;">
            <span style="color: #ff1744; font-weight: 900; font-size: 14px;">4 buttons</span>
          </div>
        </div>
        
        <p style="color: #666; font-size: 12px; margin-bottom: 16px;">Customize the 4 preset tip buttons shown in your room</p>
        
        <!-- Tip Button Editors -->
        <div id="tipButtonEditors"></div>
        
        <button onclick="saveTipButtons()" style="width: 100%; background: linear-gradient(135deg, #ff1744, #ff6b35); border: 2px solid #ffc107; color: white; padding: 16px; border-radius: 12px; font-size: 16px; font-weight: 900; cursor: pointer; margin-top: 16px;">
          üíæ Save Tip Buttons
        </button>
        
        <!-- Live Preview -->
        <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #2a2020;">
          <h4 style="color: #ffc107; margin-bottom: 12px; font-size: 14px;">üëÅÔ∏è Preview</h4>
          <div style="display: flex; gap: 12px; overflow-x: auto;">
            <div id="tipPreview1" class="tip-btn" style="min-width: 140px; cursor: default;">
              <div class="tip-label">üéÅ Small</div>
              <div class="tip-amount">ü™ô 10</div>
            </div>
            <div id="tipPreview2" class="tip-btn" style="min-width: 140px; cursor: default;">
              <div class="tip-label">üíñ Medium</div>
              <div class="tip-amount">ü™ô 50</div>
            </div>
            <div id="tipPreview3" class="tip-btn" style="min-width: 140px; cursor: default;">
              <div class="tip-label">üíù Big</div>
              <div class="tip-amount">ü™ô 100</div>
            </div>
            <div id="tipPreview4" class="tip-btn" style="min-width: 140px; cursor: default;">
              <div class="tip-label">üêã Whale</div>
              <div class="tip-amount">ü™ô 500</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Private Show Settings Card -->
      <div style="background: #1a0a0a; border: 2px solid #2a2020; border-radius: 12px; padding: 20px; margin-bottom: 16px;">
        <h3 style="color: #ffc107; margin-bottom: 16px; font-size: 18px;">üîí Private Show Settings</h3>
        
        <!-- Base Pricing -->
        <div style="margin-bottom: 20px;">
          <label style="display: block; color: #ff8a80; font-size: 13px; margin-bottom: 8px;">üí∞ Tokens Per Minute</label>
          <input type="number" id="tokensPerMin" value="60" min="10" max="500" style="width: 100%; background: #000; border: 2px solid #ffc107; border-radius: 8px; padding: 12px; color: #fff; font-size: 16px; font-weight: 700;">
          <div style="color: #666; font-size: 11px; margin-top: 4px;">Current: $6/min (60 tokens)</div>
        </div>
        
        <div style="margin-bottom: 20px;">
          <label style="display: block; color: #ff8a80; font-size: 13px; margin-bottom: 8px;">‚è±Ô∏è Minimum Duration (minutes)</label>
          <input type="number" id="minDuration" value="10" min="5" max="60" style="width: 100%; background: #000; border: 2px solid #ffc107; border-radius: 8px; padding: 12px; color: #fff; font-size: 16px; font-weight: 700;">
          <div style="color: #666; font-size: 11px; margin-top: 4px;">Minimum booking: 10 minutes (600 tokens)</div>
        </div>
        
        <!-- Extension Options -->
        <div style="border-top: 1px solid #2a2020; padding-top: 20px; margin-top: 20px;">
          <h4 style="color: #ff4da6; margin-bottom: 12px; font-size: 16px;">‚ûï "More Time" Extension Options</h4>
          <p style="color: #666; font-size: 12px; margin-bottom: 16px;">Configure the extension options shown during private shows</p>
          
          <!-- Extension 1 -->
          <div style="background: rgba(255, 77, 166, 0.1); border: 1px solid #ff4da6; border-radius: 8px; padding: 12px; margin-bottom: 12px;">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
              <div>
                <label style="display: block; color: #ff8a80; font-size: 11px; margin-bottom: 4px;">Minutes</label>
                <input type="number" id="ext1Minutes" value="5" min="1" max="60" style="width: 100%; background: #000; border: 1px solid #ff4da6; border-radius: 6px; padding: 8px; color: #fff; font-size: 14px;">
              </div>
              <div>
                <label style="display: block; color: #ff8a80; font-size: 11px; margin-bottom: 4px;">Tokens</label>
                <input type="number" id="ext1Tokens" value="250" min="10" max="5000" style="width: 100%; background: #000; border: 1px solid #ff4da6; border-radius: 6px; padding: 8px; color: #fff; font-size: 14px;">
              </div>
            </div>
          </div>
          
          <!-- Extension 2 -->
          <div style="background: rgba(255, 77, 166, 0.1); border: 1px solid #ff4da6; border-radius: 8px; padding: 12px; margin-bottom: 12px;">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
              <div>
                <label style="display: block; color: #ff8a80; font-size: 11px; margin-bottom: 4px;">Minutes</label>
                <input type="number" id="ext2Minutes" value="10" min="1" max="60" style="width: 100%; background: #000; border: 1px solid #ff4da6; border-radius: 6px; padding: 8px; color: #fff; font-size: 14px;">
              </div>
              <div>
                <label style="display: block; color: #ff8a80; font-size: 11px; margin-bottom: 4px;">Tokens</label>
                <input type="number" id="ext2Tokens" value="450" min="10" max="5000" style="width: 100%; background: #000; border: 1px solid #ff4da6; border-radius: 6px; padding: 8px; color: #fff; font-size: 14px;">
              </div>
            </div>
          </div>
          
          <!-- Extension 3 -->
          <div style="background: rgba(255, 77, 166, 0.1); border: 1px solid #ff4da6; border-radius: 8px; padding: 12px; margin-bottom: 12px;">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
              <div>
                <label style="display: block; color: #ff8a80; font-size: 11px; margin-bottom: 4px;">Minutes</label>
                <input type="number" id="ext3Minutes" value="15" min="1" max="60" style="width: 100%; background: #000; border: 1px solid #ff4da6; border-radius: 6px; padding: 8px; color: #fff; font-size: 14px;">
              </div>
              <div>
                <label style="display: block; color: #ff8a80; font-size: 11px; margin-bottom: 4px;">Tokens</label>
                <input type="number" id="ext3Tokens" value="650" min="10" max="5000" style="width: 100%; background: #000; border: 1px solid #ff4da6; border-radius: 6px; padding: 8px; color: #fff; font-size: 14px;">
              </div>
            </div>
          </div>
        </div>
        
        <button onclick="savePrivateSettings()" style="width: 100%; background: linear-gradient(135deg, #ff1744, #ff6b35); border: 2px solid #ffc107; color: white; padding: 16px; border-radius: 12px; font-size: 16px; font-weight: 900; cursor: pointer; margin-top: 16px;">
          üíæ Save Settings
        </button>
      </div>
      
      <!-- Preview Card -->
      <div style="background: rgba(255, 193, 7, 0.1); border: 2px solid #ffc107; border-radius: 12px; padding: 16px;">
        <h4 style="color: #ffc107; margin-bottom: 8px; font-size: 14px;">üëÅÔ∏è Preview</h4>
        <div style="font-size: 13px; color: #ff8a80; line-height: 1.6;">
          <div><strong style="color: #fff;">Floating button:</strong> $<span id="previewPrice">6</span>/min</div>
          <div><strong style="color: #fff;">Minimum cost:</strong> <span id="previewMinCost">600</span> tokens ($<span id="previewMinCostUSD">60</span>)</div>
          <div style="margin-top: 8px;"><strong style="color: #fff;">Extensions:</strong></div>
          <div>‚Ä¢ +<span id="previewExt1Min">5</span> min = <span id="previewExt1Tokens">250</span> tokens</div>
          <div>‚Ä¢ +<span id="previewExt2Min">10</span> min = <span id="previewExt2Tokens">450</span> tokens</div>
          <div>‚Ä¢ +<span id="previewExt3Min">15</span> min = <span id="previewExt3Tokens">650</span> tokens</div>
        </div>
      </div>
      
      <!-- Lovense Configurator -->
      <div style="background: #1a0a0a; border: 2px solid #ff4da6; border-radius: 12px; padding: 20px; margin-top: 16px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
          <h3 style="color: #ff4da6; font-size: 18px;">üíó Lovense Control Levels</h3>
          <div style="background: rgba(255, 77, 166, 0.2); padding: 6px 12px; border-radius: 8px; border: 1px solid #ff4da6;">
            <span style="color: #ff4da6; font-weight: 900; font-size: 14px;" id="lovenseLevelCount">4/5</span>
          </div>
        </div>
        
        <!-- Existing Levels -->
        <div id="lovenseLevelsList"></div>
        
        <!-- Max Warning (shown when at 5 levels) -->
        <div id="lovenseMaxWarning" style="display: none; background: rgba(255, 77, 166, 0.15); border: 2px solid #ff4da6; border-radius: 8px; padding: 12px; margin-bottom: 16px; text-align: center;">
          <div style="color: #ff4da6; font-weight: 700; font-size: 13px;">‚ö†Ô∏è Maximum 5 levels reached</div>
          <div style="color: #ff8a80; font-size: 11px; margin-top: 4px;">Delete a level to add a new one</div>
        </div>
        
        <!-- Add New Level Form (hidden when at 5) -->
        <div id="lovenseAddForm">
          <div style="background: rgba(255, 77, 166, 0.1); border: 2px dashed #ff4da6; border-radius: 12px; padding: 16px;">
            <h4 style="color: #ff4da6; margin-bottom: 12px; font-size: 14px;">‚ûï Add New Level</h4>
            
            <div style="margin-bottom: 12px;">
              <label style="display: block; color: #ff8a80; font-size: 12px; margin-bottom: 6px;">Icon</label>
              <select id="newLovenseIcon" style="width: 100%; background: #000; border: 1px solid #ff4da6; border-radius: 6px; padding: 10px; color: #fff; font-size: 16px;">
                <option value="üíó">üíó Heart</option>
                <option value="üíñ">üíñ Sparkling Heart</option>
                <option value="üíù">üíù Gift Heart</option>
                <option value="üî•">üî• Fire</option>
                <option value="‚ö°">‚ö° Lightning</option>
                <option value="üí•">üí• Boom</option>
                <option value="üåü">üåü Star</option>
                <option value="‚ú®">‚ú® Sparkles</option>
                <option value="üåä">üåä Wave</option>
                <option value="üéÜ">üéÜ Fireworks</option>
              </select>
            </div>
            
            <div style="margin-bottom: 12px;">
              <label style="display: block; color: #ff8a80; font-size: 12px; margin-bottom: 6px;">Label</label>
              <input type="text" id="newLovenseLabel" placeholder="e.g., Low Vibe, Earthquake" maxlength="20" style="width: 100%; background: #000; border: 1px solid #ff4da6; border-radius: 6px; padding: 10px; color: #fff; font-size: 14px;">
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px;">
              <div>
                <label style="display: block; color: #ff8a80; font-size: 12px; margin-bottom: 6px;">Tokens</label>
                <input type="number" id="newLovenseTokens" value="15" min="1" max="1000" style="width: 100%; background: #000; border: 1px solid #ff4da6; border-radius: 6px; padding: 10px; color: #fff; font-size: 14px;">
              </div>
              <div>
                <label style="display: block; color: #ff8a80; font-size: 12px; margin-bottom: 6px;">Duration (sec)</label>
                <input type="number" id="newLovenseDuration" value="10" min="1" max="300" style="width: 100%; background: #000; border: 1px solid #ff4da6; border-radius: 6px; padding: 10px; color: #fff; font-size: 14px;">
              </div>
            </div>
            
            <button onclick="addLovenseLevel()" style="width: 100%; background: linear-gradient(135deg, #ff4da6, #c9377f); color: white; border: 2px solid #ffc107; padding: 12px; border-radius: 8px; font-size: 14px; font-weight: 900; cursor: pointer;">
              ‚ûï Add Level
            </button>
          </div>
        </div>
      </div>
      
      <!-- Schedule Configurator -->
      <div style="background: #1a0a0a; border: 2px solid #ffc107; border-radius: 12px; padding: 20px; margin-top: 16px;">
        <h3 style="color: #ffc107; margin-bottom: 16px; font-size: 18px;">üìÖ My Schedule</h3>
        <p style="color: #666; font-size: 12px; margin-bottom: 20px;">Set your availability for chat and streaming</p>
        
        <!-- Online Hours Schedule -->
        <div style="margin-bottom: 24px; padding-bottom: 24px; border-bottom: 1px solid #2a2020;">
          <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
            <div style="font-size: 24px;">üü¢</div>
            <h4 style="color: #fff; font-size: 16px; font-weight: 700;">Online Hours</h4>
          </div>
          <p style="color: #ff8a80; font-size: 12px; margin-bottom: 12px;">When you're available for chat & private bookings</p>
          
          <div id="onlineScheduleList"></div>
          
          <button onclick="addOnlineSchedule()" style="width: 100%; background: rgba(255, 193, 7, 0.1); border: 2px dashed #ffc107; color: #ffc107; padding: 12px; border-radius: 8px; font-weight: 700; cursor: pointer; margin-top: 12px;">
            ‚ûï Add Online Hours
          </button>
        </div>
        
        <!-- Live Streaming Hours Schedule -->
        <div>
          <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
            <div style="font-size: 24px;">üî¥</div>
            <h4 style="color: #ff1744; font-size: 16px; font-weight: 700;">Live Streaming Hours</h4>
          </div>
          <p style="color: #ff8a80; font-size: 12px; margin-bottom: 12px;">When you're broadcasting public shows</p>
          
          <div id="liveScheduleList"></div>
          
          <button onclick="addLiveSchedule()" style="width: 100%; background: rgba(255, 23, 68, 0.1); border: 2px dashed #ff1744; color: #ff1744; padding: 12px; border-radius: 8px; font-weight: 700; cursor: pointer; margin-top: 12px;">
            ‚ûï Add Live Hours
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <button class="nav-item active" onclick="showPage('lobby')">
      <div class="nav-item-icon">üè†</div>
      <div>Home</div>
    </button>
    <button class="nav-item" onclick="showPage('lobby')">
      <div class="nav-item-icon">üîç</div>
      <div>Browse</div>
    </button>
    <button class="nav-item" onclick="showPage('tokens')">
      <div class="nav-item-icon">üí≥</div>
      <div>Wallet</div>
    </button>
    <button class="nav-item" onclick="showPage('dashboard')">
      <div class="nav-item-icon">‚öôÔ∏è</div>
      <div>Settings</div>
    </button>
  </nav>

  <!-- Floating Private Show Button -->
  <button class="floating-private-btn" id="floatingPrivateBtn" onclick="openPrivateSheet()">
    <div class="floating-btn-icon">üîí</div>
    <div class="floating-btn-text">PRIVATE</div>
    <div class="floating-btn-price">$6/min</div>
  </button>

  <!-- Lovense Bottom Sheet -->
  <div class="sheet-overlay" id="lovenseOverlay" onclick="closeLovense()"></div>
  <div class="bottom-sheet" id="lovenseSheet">
    <div class="sheet-handle"></div>
    <div class="sheet-header">
      <div class="sheet-title">üî• Lovense Control</div>
      <div class="sheet-subtitle">Lush 4 ‚Ä¢ üîã 87%</div>
      <button class="close-btn" onclick="closeLovense()">‚úï</button>
    </div>
    <div class="sheet-content" id="lovenseContent"></div>
  </div>

  <!-- Private Show Bottom Sheet -->
  <div class="sheet-overlay" id="privateOverlay" onclick="closePrivateSheet()"></div>
  <div class="bottom-sheet" id="privateSheet">
    <div class="sheet-handle"></div>
    <div class="sheet-header">
      <div class="sheet-title" style="color: #ffc107;">üîí Private Show</div>
      <div class="sheet-subtitle">Exclusive 1-on-1 experience</div>
      <button class="close-btn" onclick="closePrivateSheet()">‚úï</button>
    </div>
    <div class="sheet-content">
      <!-- Premium Card -->
      <div style="background: linear-gradient(135deg, rgba(255,215,0,0.15), rgba(155,89,182,0.15)); border: 3px solid #ffc107; border-radius: 16px; padding: 24px; margin-bottom: 20px; box-shadow: 0 8px 24px rgba(255, 193, 7, 0.3);">
        <div style="text-align: center; margin-bottom: 20px;">
          <div style="font-size: 56px; margin-bottom: 12px;">üëë</div>
          <div style="font-size: 22px; font-weight: 900; color: #ffc107; margin-bottom: 6px;">Exclusive 1-on-1 Show</div>
          <div style="font-size: 14px; color: #ff8a80;">Just you and the streamer</div>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 20px;">
          <div style="background: rgba(0,0,0,0.4); padding: 16px; border-radius: 12px; text-align: center; border: 2px solid #ffc107;">
            <div style="font-size: 28px; font-weight: 900; color: #ffc107;">$6</div>
            <div style="font-size: 12px; color: #ff8a80;">per minute</div>
          </div>
          <div style="background: rgba(0,0,0,0.4); padding: 16px; border-radius: 12px; text-align: center; border: 2px solid #ffc107;">
            <div style="font-size: 28px; font-weight: 900; color: #ffc107;">10 min</div>
            <div style="font-size: 12px; color: #ff8a80;">minimum</div>
          </div>
        </div>
        
        <div style="background: rgba(0,0,0,0.4); padding: 18px; border-radius: 12px; margin-bottom: 20px; border: 1px solid #2a2020;">
          <div style="font-size: 14px; font-weight: 700; margin-bottom: 10px; color: #ffc107;">‚ú® What's Included:</div>
          <div style="font-size: 13px; color: #ff8a80; line-height: 1.8;">
            ‚Ä¢ Full control of the show<br>
            ‚Ä¢ Two-way audio & video<br>
            ‚Ä¢ Custom requests welcome<br>
            ‚Ä¢ Lovense toy control included<br>
            ‚Ä¢ Recording available (+$20)
          </div>
        </div>
        
        <button onclick="startPrivateShow()" style="width: 100%; background: linear-gradient(135deg, #ffc107, #ff8c00); color: #000; border: none; padding: 20px; border-radius: 12px; font-weight: 900; font-size: 18px; cursor: pointer; box-shadow: 0 6px 20px rgba(255, 193, 7, 0.4); margin-bottom: 16px;">
          üîí START PRIVATE SHOW ($60)
        </button>
      </div>
      
      <!-- Spy Mode Option -->
      <div style="background: linear-gradient(135deg, rgba(155,89,182,0.15), rgba(255,77,166,0.15)); border: 2px solid #ff4da6; border-radius: 16px; padding: 20px; box-shadow: 0 6px 20px rgba(255, 77, 166, 0.2);">
        <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 12px;">
          <div style="font-size: 40px;">üëÅÔ∏è</div>
          <div>
            <div style="font-size: 18px; font-weight: 900; color: #ff4da6; margin-bottom: 4px;">Spy Mode Available</div>
            <div style="font-size: 13px; color: #ff8a80;">Watch someone else's private show</div>
          </div>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 16px;">
          <div>
            <div style="font-size: 20px; font-weight: 900; color: #ff4da6;">$3/min</div>
            <div style="font-size: 11px; color: #ff8a80;">Watch only ‚Ä¢ No interaction</div>
          </div>
          <button onclick="joinSpyMode()" style="background: linear-gradient(135deg, #ff4da6, #c9377f); color: white; border: none; padding: 12px 24px; border-radius: 8px; font-weight: 900; cursor: pointer; border: 2px solid #ffc107;">
            JOIN SPY
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Profile Page (for offline streamers) -->
  <div class="page" id="profilePage">
    <div style="padding: 0; padding-bottom: 80px;">
      <!-- Profile Header -->
      <div style="background: linear-gradient(135deg, #ff1744, #c62828); padding: 24px 16px; position: relative;">
        <button onclick="showPage('lobby')" style="position: absolute; top: 16px; left: 16px; background: rgba(0,0,0,0.5); border: 2px solid #ffc107; color: white; width: 40px; height: 40px; border-radius: 50%; font-size: 18px; cursor: pointer;">‚Üê</button>
        
        <div style="display: flex; flex-direction: column; align-items: center; margin-top: 40px;">
          <div id="profileAvatar" style="width: 120px; height: 120px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 60px; font-weight: 900; border: 4px solid #ffc107; margin-bottom: 16px;"></div>
          <h2 id="profileName" style="font-size: 28px; font-weight: 900; margin-bottom: 4px;"></h2>
          <div style="background: rgba(0,0,0,0.3); padding: 6px 12px; border-radius: 12px; border: 1px solid #ffc107;">
            <span style="color: #ff8a80; font-size: 13px;">‚ö´ Currently Offline</span>
          </div>
        </div>
      </div>
      
      <!-- Profile Content -->
      <div style="padding: 20px 16px;">
        <!-- Schedule Section -->
        <div style="background: #1a0a0a; border: 2px solid #ffc107; border-radius: 12px; padding: 20px; margin-bottom: 16px;">
          <h3 style="color: #ffc107; margin-bottom: 16px; font-size: 18px;">üìÖ Schedule</h3>
          
          <!-- Online Hours -->
          <div style="margin-bottom: 20px;">
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
              <div style="font-size: 20px;">üü¢</div>
              <div style="font-size: 16px; font-weight: 700; color: #fff;">Online Hours</div>
            </div>
            <div style="color: #ff8a80; font-size: 13px; margin-bottom: 8px;">Available for chat & private bookings</div>
            <div id="profileOnlineSchedule" style="display: flex; flex-direction: column; gap: 6px;"></div>
          </div>
          
          <!-- Live Streaming Hours -->
          <div>
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
              <div style="font-size: 20px;">üî¥</div>
              <div style="font-size: 16px; font-weight: 700; color: #ff1744;">Live Streaming Hours</div>
            </div>
            <div style="color: #ff8a80; font-size: 13px; margin-bottom: 8px;">Public shows & broadcasts</div>
            <div id="profileLiveSchedule" style="display: flex; flex-direction: column; gap: 6px;"></div>
          </div>
        </div>
        
        <!-- Book Private Show -->
        <button onclick="bookPrivateShow()" style="width: 100%; background: linear-gradient(135deg, #ffc107, #ff8c00); color: #000; border: none; padding: 20px; border-radius: 12px; font-weight: 900; font-size: 18px; cursor: pointer; box-shadow: 0 6px 20px rgba(255, 193, 7, 0.4); margin-bottom: 16px;">
          üìÖ Book Private Show in Advance
        </button>
        
        <!-- Send Message -->
        <button onclick="sendMessage()" style="width: 100%; background: linear-gradient(135deg, #ff4da6, #c9377f); color: white; border: 2px solid #ffc107; padding: 18px; border-radius: 12px; font-weight: 900; font-size: 16px; cursor: pointer;">
          üíå Send Private Message
        </button>
      </div>
    </div>
  </div>

  <!-- More Time Options Bottom Sheet -->
  <div class="sheet-overlay" id="moreTimeOverlay" onclick="closeMoreTimeSheet()"></div>
  <div class="bottom-sheet" id="moreTimeSheet">
    <div class="sheet-handle"></div>
    <div class="sheet-header">
      <div class="sheet-title" style="color: #ffc107;">‚ûï Add More Time</div>
      <div class="sheet-subtitle">Extend your private show</div>
      <button class="close-btn" onclick="closeMoreTimeSheet()">‚úï</button>
    </div>
    <div class="sheet-content">
      <div style="background: rgba(255, 193, 7, 0.1); border: 2px solid #ffc107; border-radius: 12px; padding: 16px; margin-bottom: 16px; text-align: center;">
        <div style="font-size: 14px; color: #ff8a80; margin-bottom: 8px;">‚è±Ô∏è Current Time Remaining</div>
        <div style="font-size: 36px; font-weight: 900; color: #fff; font-family: monospace;" id="moreTimeCurrentTimer">10:00</div>
      </div>
      
      <div id="extensionOptions"></div>
    </div>
  </div>

  <script>
    // Data
    const STREAMERS = [
      {
        id: 1,
        name: "CryptoKitty",
        avatar: "C",
        title: "üöÄ ALT SEASON WATCH",
        viewers: 1342,
        color: "#ff1744",
        tips: [
          { label: "üéÅ Small", amount: 10 },
          { label: "üíñ Medium", amount: 50 },
          { label: "üíù Big", amount: 100 },
          { label: "üêã Whale", amount: 500 }
        ],
        lovense: [
          { label: "üíó Low Vibe", tokens: 15 },
          { label: "üíñ Medium Vibe", tokens: 30 },
          { label: "üíù High Vibe", tokens: 60 },
          { label: "üî• Ultra Vibe", tokens: 100 }
        ]
      },
      {
        id: 2,
        name: "DJ_NightOwl",
        avatar: "D",
        title: "Late Night Lo-Fi üåô",
        viewers: 876,
        color: "#ff6b35",
        tips: [
          { label: "‚òï Coffee", amount: 5 },
          { label: "üéµ Request", amount: 25 },
          { label: "üé∏ Love", amount: 75 },
          { label: "üéπ Support", amount: 200 }
        ],
        lovense: [
          { label: "üíó Gentle", tokens: 10 },
          { label: "üíñ Medium", tokens: 25 },
          { label: "üî• Intense", tokens: 50 }
        ]
      },
      {
        id: 3,
        name: "YogaWithSam",
        avatar: "S",
        title: "Morning Flow üßò",
        viewers: 421,
        color: "#ff4da6",
        tips: [
          { label: "üßò Namaste", amount: 10 },
          { label: "üå∏ Peaceful", amount: 35 },
          { label: "üïâÔ∏è Zen", amount: 75 },
          { label: "‚ú® Enlighten", amount: 200 }
        ],
        lovense: [
          { label: "üíó Gentle", tokens: 10 },
          { label: "üíñ Medium", tokens: 25 },
          { label: "üî• Intense", tokens: 50 }
        ]
      }
    ];

    const PACKAGES = [
      { name: "Starter", tokens: 100, price: 4.99, popular: false },
      { name: "Popular", tokens: 500, price: 19.99, popular: true },
      { name: "Pro", tokens: 1200, price: 39.99, popular: false },
      { name: "Whale", tokens: 5000, price: 149.99, popular: false }
    ];

    let balance = 250;
    let currentStreamer = null;
    let chatHistory = [
      { type: "system", text: "Welcome to the stream!" },
      { type: "tip", user: "viewer_42", text: "hey! üëã" },
      { type: "tip", user: "BigSpender", amount: 100, label: "üî•" }
    ];
    
    // Private show settings
    let privateShowSettings = {
      tokensPerMin: 60,
      minDuration: 10,
      extensions: [
        { minutes: 5, tokens: 250 },
        { minutes: 10, tokens: 450 },
        { minutes: 15, tokens: 650 }
      ]
    };
    
    // Private show state
    let isInPrivateShow = false;
    let privateShowTimeRemaining = 0; // in seconds
    let privateShowTimer = null;
    
    // Lovense levels (default 4)
    let lovenseLevels = [
      { id: 1, icon: 'üíó', label: 'Low Vibe', tokens: 15, duration: 10 },
      { id: 2, icon: 'üíñ', label: 'Medium Vibe', tokens: 30, duration: 15 },
      { id: 3, icon: 'üíù', label: 'High Vibe', tokens: 60, duration: 20 },
      { id: 4, icon: 'üî•', label: 'Ultra Vibe', tokens: 100, duration: 30 }
    ];
    
    // Custom tip buttons (4)
    let customTipButtons = [
      { icon: 'üéÅ', label: 'Small', amount: 10 },
      { icon: 'üíñ', label: 'Medium', amount: 50 },
      { icon: 'üíù', label: 'Big', amount: 100 },
      { icon: 'üêã', label: 'Whale', amount: 500 }
    ];
    
    // Schedules
    let onlineSchedule = [
      { id: 1, day: 'Monday', startTime: '18:00', endTime: '23:00' },
      { id: 2, day: 'Wednesday', startTime: '19:00', endTime: '00:00' },
      { id: 3, day: 'Friday', startTime: '20:00', endTime: '02:00' }
    ];
    
    let liveSchedule = [
      { id: 1, day: 'Monday', startTime: '20:00', endTime: '22:00' },
      { id: 2, day: 'Friday', startTime: '21:00', endTime: '23:00' }
    ];
    
    let currentProfile = null;

    // Initialize
    function init() {
      renderLobby();
      renderPackages();
      updateBalance();
    }

    // Render lobby
    function renderLobby() {
      const grid = document.getElementById('streamGrid');
      grid.innerHTML = STREAMERS.map(s => `
        <div class="stream-card" onclick="openRoom(${s.id})">
          <div class="stream-thumbnail" style="background: ${s.color};">
            <div class="stream-avatar">${s.avatar}</div>
            <div class="live-badge">
              <div class="pulse-dot"></div>
              LIVE
            </div>
            <div class="viewer-count">üëÅÔ∏è ${s.viewers.toLocaleString()}</div>
          </div>
          <div class="stream-info">
            <div class="stream-name">${s.name}</div>
            <div class="stream-title">${s.title}</div>
          </div>
        </div>
      `).join('');
    }

    // Render packages
    function renderPackages() {
      const grid = document.getElementById('packageGrid');
      grid.innerHTML = PACKAGES.map(p => `
        <div class="package-card ${p.popular ? 'popular' : ''}">
          ${p.popular ? '<div class="popular-badge">‚≠ê POPULAR</div>' : ''}
          <div class="package-icon">ü™ô</div>
          <div class="package-name">${p.name}</div>
          <div class="package-tokens">${p.tokens.toLocaleString()}</div>
          <div class="package-label">tokens</div>
          <button class="buy-btn ${p.popular ? 'popular' : ''}" onclick="buyPackage(${p.tokens})">
            BUY $${p.price}
          </button>
        </div>
      `).join('');
    }

    // Open room
    function openRoom(id) {
      currentStreamer = STREAMERS.find(s => s.id === id);
      
      document.getElementById('roomAvatar').innerHTML = currentStreamer.avatar;
      document.getElementById('roomAvatar').style.background = currentStreamer.color;
      document.getElementById('roomName').textContent = currentStreamer.name;
      document.getElementById('roomTitle').textContent = currentStreamer.title;
      document.getElementById('roomViewers').textContent = `üëÅÔ∏è ${currentStreamer.viewers.toLocaleString()}`;
      
      // Render tip buttons (use dashboard configured buttons)
      const tipSection = document.getElementById('tipButtons');
      tipSection.innerHTML = customTipButtons.map((tip, i) => `
        <button class="tip-btn" onclick="sendTip(${tip.amount}, '${tip.icon} ${tip.label}')">
          <div class="tip-label">${tip.icon} ${tip.label}</div>
          <div class="tip-amount">ü™ô ${tip.amount}</div>
        </button>
      `).join('');
      
      // Render lovense options (use dashboard configured levels)
      const lovenseContent = document.getElementById('lovenseContent');
      lovenseContent.innerHTML = lovenseLevels.map(l => `
        <div class="lovense-item" onclick="activateLovense('${l.label}', ${l.tokens}, ${l.duration})">
          <span class="lovense-label">${l.icon} ${l.label}</span>
          <div style="display: flex; flex-direction: column; align-items: flex-end; gap: 2px;">
            <span class="lovense-cost">ü™ô ${l.tokens}</span>
            <span style="font-size: 10px; color: #ff8a80;">${l.duration}s</span>
          </div>
        </div>
      `).join('');
      
      renderChat();
      showPage('room');
    }

    // Send tip
    function sendTip(amount, label) {
      if (balance < amount) {
        alert('Not enough tokens!');
        return;
      }
      
      balance -= amount;
      updateBalance();
      
      chatHistory.unshift({
        type: 'tip',
        user: 'you',
        text: label,
        amount: amount
      });
      
      renderChat();
    }

    // Activate Lovense
    function activateLovense(label, tokens, duration) {
      if (balance < tokens) {
        alert('Not enough tokens!');
        return;
      }
      
      balance -= tokens;
      updateBalance();
      
      chatHistory.unshift({
        type: 'lovense',
        user: 'you',
        text: `${label} (${duration}s)`,
        amount: tokens
      });
      
      renderChat();
      closeLovense();
    }

    // Render chat
    function renderChat() {
      const chat = document.getElementById('chatMessages');
      chat.innerHTML = chatHistory.slice(0, 10).map(msg => {
        if (msg.type === 'tip' && msg.amount) {
          return `
            <div class="chat-msg">
              <span class="chat-user">${msg.user}</span>
              <span>${msg.text}</span>
              <span style="margin-left: auto; font-weight: 900; color: #ffc107; font-size: 18px;">
                ü™ô ${msg.amount}
              </span>
            </div>
          `;
        }
        if (msg.type === 'lovense') {
          return `
            <div class="chat-msg" style="border-color: #ff4da6; background: rgba(255, 77, 166, 0.2);">
              <span class="chat-user" style="color: #ff4da6;">${msg.user}</span>
              <span>activated ${msg.text}</span>
              <span style="margin-left: auto; font-weight: 900; color: #ff4da6;">
                ü™ô ${msg.amount}
              </span>
            </div>
          `;
        }
        return `<div class="chat-msg">${msg.text}</div>`;
      }).join('');
    }

    // Buy package
    function buyPackage(tokens) {
      balance += tokens;
      updateBalance();
      alert(`Added ${tokens} tokens!`);
    }

    // Update balance
    function updateBalance() {
      document.getElementById('tokenBadge').textContent = `ü™ô ${balance.toLocaleString()}`;
    }

    // Show page
    function showPage(page) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
      
      if (page === 'lobby') {
        document.getElementById('lobbyPage').classList.add('active');
        document.querySelectorAll('.nav-item')[0].classList.add('active');
      } else if (page === 'room') {
        document.getElementById('roomPage').classList.add('active');
      } else if (page === 'profile') {
        document.getElementById('profilePage').classList.add('active');
      } else if (page === 'tokens') {
        document.getElementById('tokensPage').classList.add('active');
        document.querySelectorAll('.nav-item')[2].classList.add('active');
      } else if (page === 'dashboard') {
        document.getElementById('dashboardPage').classList.add('active');
        document.querySelectorAll('.nav-item')[3].classList.add('active');
      }
    }

    // Lovense sheet
    function openLovense() {
      document.getElementById('lovenseOverlay').classList.add('visible');
      document.getElementById('lovenseSheet').classList.add('open');
    }

    function closeLovense() {
      document.getElementById('lovenseOverlay').classList.remove('visible');
      document.getElementById('lovenseSheet').classList.remove('open');
    }
    
    // Private show sheet
    function openPrivateSheet() {
      document.getElementById('privateOverlay').classList.add('visible');
      document.getElementById('privateSheet').classList.add('open');
    }
    
    function closePrivateSheet() {
      document.getElementById('privateOverlay').classList.remove('visible');
      document.getElementById('privateSheet').classList.remove('open');
    }
    
    // Start private show
    function startPrivateShow() {
      const cost = 60; // 10 min x $6/min = $60 in tokens
      if (balance < cost) {
        alert('Not enough tokens!\n\nPrivate show costs 60 tokens (10 minutes).\nYour balance: ' + balance + ' tokens\n\nVisit the Wallet to buy more tokens.');
        closePrivateSheet();
        showPage('tokens');
        return;
      }
      
      balance -= cost;
      updateBalance();
      closePrivateSheet();
      
      chatHistory.unshift({
        type: 'system',
        text: 'üîí Private show started! 10 minutes ‚Ä¢ Room is now private'
      });
      
      renderChat();
      alert('üîí Private Show Started!\n\n‚ú® You now have exclusive access\n‚è±Ô∏è Duration: 10 minutes\nüí∞ Cost: 60 tokens\n\nüé• The show will begin shortly...');
    }
    
    // Join spy mode
    function joinSpyMode() {
      alert('üëÅÔ∏è Spy Mode\n\nThis feature allows you to watch someone else\'s private show at a reduced rate.\n\nüí∞ Cost: $3/min (50% off)\nüö´ Watch only - no interaction\n\nNo private shows currently available to spy on.');
      closePrivateSheet();
    }
    
    // Dashboard: Save private show settings
    function savePrivateSettings() {
      privateShowSettings.tokensPerMin = parseInt(document.getElementById('tokensPerMin').value);
      privateShowSettings.minDuration = parseInt(document.getElementById('minDuration').value);
      privateShowSettings.extensions = [
        {
          minutes: parseInt(document.getElementById('ext1Minutes').value),
          tokens: parseInt(document.getElementById('ext1Tokens').value)
        },
        {
          minutes: parseInt(document.getElementById('ext2Minutes').value),
          tokens: parseInt(document.getElementById('ext2Tokens').value)
        },
        {
          minutes: parseInt(document.getElementById('ext3Minutes').value),
          tokens: parseInt(document.getElementById('ext3Tokens').value)
        }
      ];
      
      updatePrivateShowUI();
      updateDashboardPreview();
      
      alert('‚úÖ Private show settings saved!\n\nYour new pricing and extensions are now active.');
    }
    
    // Update UI with new settings
    function updatePrivateShowUI() {
      const pricePerMin = (privateShowSettings.tokensPerMin / 10).toFixed(0);
      document.querySelector('.floating-btn-price').textContent = '$' + pricePerMin + '/min';
    }
    
    // Update dashboard preview
    function updateDashboardPreview() {
      const pricePerMin = (privateShowSettings.tokensPerMin / 10).toFixed(0);
      const minCost = privateShowSettings.tokensPerMin * privateShowSettings.minDuration;
      const minCostUSD = (minCost / 10).toFixed(0);
      
      document.getElementById('previewPrice').textContent = pricePerMin;
      document.getElementById('previewMinCost').textContent = minCost;
      document.getElementById('previewMinCostUSD').textContent = minCostUSD;
      
      document.getElementById('previewExt1Min').textContent = privateShowSettings.extensions[0].minutes;
      document.getElementById('previewExt1Tokens').textContent = privateShowSettings.extensions[0].tokens;
      document.getElementById('previewExt2Min').textContent = privateShowSettings.extensions[1].minutes;
      document.getElementById('previewExt2Tokens').textContent = privateShowSettings.extensions[1].tokens;
      document.getElementById('previewExt3Min').textContent = privateShowSettings.extensions[2].minutes;
      document.getElementById('previewExt3Tokens').textContent = privateShowSettings.extensions[2].tokens;
    }
    
    // Real-time preview updates
    function setupDashboardListeners() {
      const inputs = ['tokensPerMin', 'minDuration', 'ext1Minutes', 'ext1Tokens', 'ext2Minutes', 'ext2Tokens', 'ext3Minutes', 'ext3Tokens'];
      inputs.forEach(id => {
        const el = document.getElementById(id);
        if (el) {
          el.addEventListener('input', () => {
            const temp = {
              tokensPerMin: parseInt(document.getElementById('tokensPerMin').value),
              minDuration: parseInt(document.getElementById('minDuration').value),
              extensions: [
                {
                  minutes: parseInt(document.getElementById('ext1Minutes').value),
                  tokens: parseInt(document.getElementById('ext1Tokens').value)
                },
                {
                  minutes: parseInt(document.getElementById('ext2Minutes').value),
                  tokens: parseInt(document.getElementById('ext2Tokens').value)
                },
                {
                  minutes: parseInt(document.getElementById('ext3Minutes').value),
                  tokens: parseInt(document.getElementById('ext3Tokens').value)
                }
              ]
            };
            
            const pricePerMin = (temp.tokensPerMin / 10).toFixed(0);
            const minCost = temp.tokensPerMin * temp.minDuration;
            const minCostUSD = (minCost / 10).toFixed(0);
            
            document.getElementById('previewPrice').textContent = pricePerMin;
            document.getElementById('previewMinCost').textContent = minCost;
            document.getElementById('previewMinCostUSD').textContent = minCostUSD;
            
            document.getElementById('previewExt1Min').textContent = temp.extensions[0].minutes;
            document.getElementById('previewExt1Tokens').textContent = temp.extensions[0].tokens;
            document.getElementById('previewExt2Min').textContent = temp.extensions[1].minutes;
            document.getElementById('previewExt2Tokens').textContent = temp.extensions[1].tokens;
            document.getElementById('previewExt3Min').textContent = temp.extensions[2].minutes;
            document.getElementById('previewExt3Tokens').textContent = temp.extensions[2].tokens;
          });
        }
      });
    }
    
    // Start private show with timer
    function startPrivateShow() {
      const cost = privateShowSettings.tokensPerMin * privateShowSettings.minDuration;
      if (balance < cost) {
        alert('Not enough tokens!\n\nPrivate show costs ' + cost + ' tokens (' + privateShowSettings.minDuration + ' minutes).\nYour balance: ' + balance + ' tokens\n\nVisit the Wallet to buy more tokens.');
        closePrivateSheet();
        showPage('tokens');
        return;
      }
      
      balance -= cost;
      updateBalance();
      closePrivateSheet();
      
      isInPrivateShow = true;
      privateShowTimeRemaining = privateShowSettings.minDuration * 60; // convert to seconds
      
      // Show timer and More Time button
      document.getElementById('privateTimer').style.display = 'block';
      document.getElementById('moreTimeBtn').style.display = 'block';
      
      // Start countdown
      updateTimerDisplay();
      privateShowTimer = setInterval(() => {
        privateShowTimeRemaining--;
        updateTimerDisplay();
        
        if (privateShowTimeRemaining <= 0) {
          endPrivateShow();
        }
      }, 1000);
      
      chatHistory.unshift({
        type: 'system',
        text: 'üîí Private show started! ' + privateShowSettings.minDuration + ' minutes ‚Ä¢ Room is now private'
      });
      
      renderChat();
      alert('üîí Private Show Started!\n\n‚ú® You now have exclusive access\n‚è±Ô∏è Duration: ' + privateShowSettings.minDuration + ' minutes\nüí∞ Cost: ' + cost + ' tokens\n\nüé• The show will begin shortly...');
    }
    
    // Update timer display
    function updateTimerDisplay() {
      const minutes = Math.floor(privateShowTimeRemaining / 60);
      const seconds = privateShowTimeRemaining % 60;
      const display = minutes + ':' + (seconds < 10 ? '0' : '') + seconds;
      
      document.getElementById('timerDisplay').textContent = display;
      document.getElementById('moreTimeCurrentTimer').textContent = display;
    }
    
    // End private show
    function endPrivateShow() {
      clearInterval(privateShowTimer);
      isInPrivateShow = false;
      privateShowTimeRemaining = 0;
      
      document.getElementById('privateTimer').style.display = 'none';
      document.getElementById('moreTimeBtn').style.display = 'none';
      
      chatHistory.unshift({
        type: 'system',
        text: '‚è∞ Private show ended. Thank you!'
      });
      
      renderChat();
      alert('‚è∞ Private Show Ended\n\nThank you for your time!\n\nüíé You can start another private show anytime.');
    }
    
    // Show more time options
    function showMoreTimeOptions() {
      const html = privateShowSettings.extensions.map((ext, i) => {
        return `
          <div onclick="addMoreTime(${i})" style="background: linear-gradient(135deg, rgba(255,193,7,0.15), rgba(255,140,0,0.15)); border: 2px solid #ffc107; border-radius: 12px; padding: 20px; margin-bottom: 12px; cursor: pointer; transition: all 0.2s;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <div>
                <div style="font-size: 18px; font-weight: 900; color: #ffc107; margin-bottom: 4px;">+${ext.minutes} Minutes</div>
                <div style="font-size: 12px; color: #ff8a80;">Extend your private show</div>
              </div>
              <div style="text-align: right;">
                <div style="font-size: 24px; font-weight: 900; color: #fff;">${ext.tokens}</div>
                <div style="font-size: 11px; color: #ff8a80;">tokens</div>
              </div>
            </div>
          </div>
        `;
      }).join('');
      
      document.getElementById('extensionOptions').innerHTML = html;
      document.getElementById('moreTimeOverlay').classList.add('visible');
      document.getElementById('moreTimeSheet').classList.add('open');
    }
    
    // Close more time sheet
    function closeMoreTimeSheet() {
      document.getElementById('moreTimeOverlay').classList.remove('visible');
      document.getElementById('moreTimeSheet').classList.remove('open');
    }
    
    // Add more time
    function addMoreTime(index) {
      const ext = privateShowSettings.extensions[index];
      
      if (balance < ext.tokens) {
        alert('Not enough tokens!\n\nExtension costs ' + ext.tokens + ' tokens.\nYour balance: ' + balance + ' tokens');
        closeMoreTimeSheet();
        return;
      }
      
      balance -= ext.tokens;
      updateBalance();
      
      privateShowTimeRemaining += (ext.minutes * 60);
      updateTimerDisplay();
      
      closeMoreTimeSheet();
      
      chatHistory.unshift({
        type: 'system',
        text: '‚è±Ô∏è +' + ext.minutes + ' minutes added! (' + ext.tokens + ' tokens)'
      });
      
      renderChat();
      
      alert('‚úÖ Time Added!\n\n‚è±Ô∏è +' + ext.minutes + ' minutes\nüí∞ Cost: ' + ext.tokens + ' tokens\n\nEnjoy your extended private show!');
    }
    
    // Lovense Dashboard Functions
    function renderLovenseLevelsList() {
      const list = document.getElementById('lovenseLevelsList');
      const count = document.getElementById('lovenseLevelCount');
      const maxWarning = document.getElementById('lovenseMaxWarning');
      const addForm = document.getElementById('lovenseAddForm');
      
      count.textContent = lovenseLevels.length + '/5';
      
      if (lovenseLevels.length >= 5) {
        maxWarning.style.display = 'block';
        addForm.style.display = 'none';
      } else {
        maxWarning.style.display = 'none';
        addForm.style.display = 'block';
      }
      
      list.innerHTML = lovenseLevels.map(level => `
        <div style="background: rgba(255, 77, 166, 0.1); border: 1px solid #ff4da6; border-radius: 8px; padding: 12px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center;">
          <div style="flex: 1;">
            <div style="font-size: 16px; font-weight: 700; color: #fff; margin-bottom: 4px;">
              ${level.icon} ${level.label}
            </div>
            <div style="font-size: 12px; color: #ff8a80;">
              ${level.tokens} tokens ‚Ä¢ ${level.duration}s
            </div>
          </div>
          <button onclick="deleteLovenseLevel(${level.id})" style="background: rgba(255, 23, 68, 0.2); border: 2px solid #ff1744; color: #ff1744; width: 36px; height: 36px; border-radius: 8px; font-size: 18px; cursor: pointer; font-weight: 900;">
            ‚úï
          </button>
        </div>
      `).join('');
    }
    
    function addLovenseLevel() {
      if (lovenseLevels.length >= 5) {
        alert('‚ö†Ô∏è Maximum 5 levels reached!\n\nDelete a level to add a new one.');
        return;
      }
      
      const icon = document.getElementById('newLovenseIcon').value;
      const label = document.getElementById('newLovenseLabel').value.trim();
      const tokens = parseInt(document.getElementById('newLovenseTokens').value);
      const duration = parseInt(document.getElementById('newLovenseDuration').value);
      
      if (!label) {
        alert('‚ö†Ô∏è Please enter a label for this level.');
        return;
      }
      
      if (tokens < 1 || tokens > 1000) {
        alert('‚ö†Ô∏è Tokens must be between 1 and 1000.');
        return;
      }
      
      if (duration < 1 || duration > 300) {
        alert('‚ö†Ô∏è Duration must be between 1 and 300 seconds.');
        return;
      }
      
      const newLevel = {
        id: Date.now(),
        icon: icon,
        label: label,
        tokens: tokens,
        duration: duration
      };
      
      lovenseLevels.push(newLevel);
      
      // Reset form
      document.getElementById('newLovenseLabel').value = '';
      document.getElementById('newLovenseTokens').value = '15';
      document.getElementById('newLovenseDuration').value = '10';
      document.getElementById('newLovenseIcon').value = 'üíó';
      
      renderLovenseLevelsList();
      
      alert('‚úÖ Level added!\n\n' + icon + ' ' + label + '\n' + tokens + ' tokens ‚Ä¢ ' + duration + 's');
    }
    
    function deleteLovenseLevel(id) {
      const level = lovenseLevels.find(l => l.id === id);
      if (!level) return;
      
      if (confirm('Delete this Lovense level?\n\n' + level.icon + ' ' + level.label + '\n' + level.tokens + ' tokens ‚Ä¢ ' + level.duration + 's')) {
        lovenseLevels = lovenseLevels.filter(l => l.id !== id);
        renderLovenseLevelsList();
      }
    }
    
    // Tip Button Configurator Functions
    function renderTipButtonEditors() {
      const container = document.getElementById('tipButtonEditors');
      
      container.innerHTML = customTipButtons.map((btn, index) => `
        <div style="background: rgba(255, 23, 68, 0.1); border: 2px solid #ff1744; border-radius: 12px; padding: 16px; margin-bottom: 12px;">
          <div style="color: #ff1744; font-weight: 900; margin-bottom: 12px; font-size: 14px;">Button ${index + 1}</div>
          
          <div style="margin-bottom: 12px;">
            <label style="display: block; color: #ff8a80; font-size: 12px; margin-bottom: 6px;">Icon</label>
            <select id="tipIcon${index}" onchange="updateTipPreview()" style="width: 100%; background: #000; border: 1px solid #ff1744; border-radius: 6px; padding: 10px; color: #fff; font-size: 16px;">
              <option value="üéÅ" ${btn.icon === 'üéÅ' ? 'selected' : ''}>üéÅ Gift</option>
              <option value="üíñ" ${btn.icon === 'üíñ' ? 'selected' : ''}>üíñ Sparkling Heart</option>
              <option value="üíù" ${btn.icon === 'üíù' ? 'selected' : ''}>üíù Heart Gift</option>
              <option value="üíé" ${btn.icon === 'üíé' ? 'selected' : ''}>üíé Gem</option>
              <option value="üëë" ${btn.icon === 'üëë' ? 'selected' : ''}>üëë Crown</option>
              <option value="üåü" ${btn.icon === 'üåü' ? 'selected' : ''}>üåü Star</option>
              <option value="‚ú®" ${btn.icon === '‚ú®' ? 'selected' : ''}>‚ú® Sparkles</option>
              <option value="üí∞" ${btn.icon === 'üí∞' ? 'selected' : ''}>üí∞ Money Bag</option>
              <option value="üî•" ${btn.icon === 'üî•' ? 'selected' : ''}>üî• Fire</option>
              <option value="‚ö°" ${btn.icon === '‚ö°' ? 'selected' : ''}>‚ö° Lightning</option>
              <option value="üí•" ${btn.icon === 'üí•' ? 'selected' : ''}>üí• Boom</option>
              <option value="üêã" ${btn.icon === 'üêã' ? 'selected' : ''}>üêã Whale</option>
              <option value="üéÜ" ${btn.icon === 'üéÜ' ? 'selected' : ''}>üéÜ Fireworks</option>
              <option value="üéâ" ${btn.icon === 'üéâ' ? 'selected' : ''}>üéâ Party</option>
              <option value="üçæ" ${btn.icon === 'üçæ' ? 'selected' : ''}>üçæ Champagne</option>
              <option value="üèÜ" ${btn.icon === 'üèÜ' ? 'selected' : ''}>üèÜ Trophy</option>
            </select>
          </div>
          
          <div style="margin-bottom: 12px;">
            <label style="display: block; color: #ff8a80; font-size: 12px; margin-bottom: 6px;">Label</label>
            <input type="text" id="tipLabel${index}" value="${btn.label}" maxlength="20" onkeyup="updateTipPreview()" style="width: 100%; background: #000; border: 1px solid #ff1744; border-radius: 6px; padding: 10px; color: #fff; font-size: 14px;" placeholder="e.g., Small, Big, Whale">
          </div>
          
          <div>
            <label style="display: block; color: #ff8a80; font-size: 12px; margin-bottom: 6px;">Tokens</label>
            <input type="number" id="tipAmount${index}" value="${btn.amount}" min="1" max="10000" onkeyup="updateTipPreview()" style="width: 100%; background: #000; border: 1px solid #ff1744; border-radius: 6px; padding: 10px; color: #fff; font-size: 14px;">
          </div>
        </div>
      `).join('');
    }
    
    function updateTipPreview() {
      for (let i = 0; i < 4; i++) {
        const icon = document.getElementById('tipIcon' + i).value;
        const label = document.getElementById('tipLabel' + i).value || 'Button ' + (i + 1);
        const amount = document.getElementById('tipAmount' + i).value || '0';
        
        const preview = document.getElementById('tipPreview' + (i + 1));
        preview.querySelector('.tip-label').textContent = icon + ' ' + label;
        preview.querySelector('.tip-amount').textContent = 'ü™ô ' + amount;
      }
    }
    
    function saveTipButtons() {
      // Validate all fields
      for (let i = 0; i < 4; i++) {
        const label = document.getElementById('tipLabel' + i).value.trim();
        const amount = parseInt(document.getElementById('tipAmount' + i).value);
        
        if (!label) {
          alert('‚ö†Ô∏è Button ' + (i + 1) + ' needs a label!');
          return;
        }
        
        if (amount < 1 || amount > 10000) {
          alert('‚ö†Ô∏è Button ' + (i + 1) + ' tokens must be between 1 and 10,000!');
          return;
        }
      }
      
      // Save all buttons
      for (let i = 0; i < 4; i++) {
        customTipButtons[i] = {
          icon: document.getElementById('tipIcon' + i).value,
          label: document.getElementById('tipLabel' + i).value.trim(),
          amount: parseInt(document.getElementById('tipAmount' + i).value)
        };
      }
      
      alert('‚úÖ Tip buttons saved!\n\nYour custom buttons are now active in all rooms.');
    }
    
    // Schedule Management Functions
    function renderOnlineSchedule() {
      const list = document.getElementById('onlineScheduleList');
      if (onlineSchedule.length === 0) {
        list.innerHTML = '<div style="color: #666; font-size: 13px; text-align: center; padding: 20px;">No online hours set</div>';
        return;
      }
      
      list.innerHTML = onlineSchedule.map(slot => `
        <div style="background: rgba(255, 193, 7, 0.1); border: 1px solid #ffc107; border-radius: 8px; padding: 12px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center;">
          <div>
            <div style="font-size: 14px; font-weight: 700; color: #fff; margin-bottom: 4px;">${slot.day}</div>
            <div style="font-size: 12px; color: #ffc107;">${slot.startTime} - ${slot.endTime}</div>
          </div>
          <button onclick="deleteOnlineSchedule(${slot.id})" style="background: rgba(255, 23, 68, 0.2); border: 2px solid #ff1744; color: #ff1744; width: 32px; height: 32px; border-radius: 6px; font-size: 16px; cursor: pointer;">‚úï</button>
        </div>
      `).join('');
    }
    
    function renderLiveSchedule() {
      const list = document.getElementById('liveScheduleList');
      if (liveSchedule.length === 0) {
        list.innerHTML = '<div style="color: #666; font-size: 13px; text-align: center; padding: 20px;">No live hours set</div>';
        return;
      }
      
      list.innerHTML = liveSchedule.map(slot => `
        <div style="background: rgba(255, 23, 68, 0.1); border: 1px solid #ff1744; border-radius: 8px; padding: 12px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center;">
          <div>
            <div style="font-size: 14px; font-weight: 700; color: #fff; margin-bottom: 4px;">${slot.day}</div>
            <div style="font-size: 12px; color: #ff1744;">${slot.startTime} - ${slot.endTime}</div>
          </div>
          <button onclick="deleteLiveSchedule(${slot.id})" style="background: rgba(255, 23, 68, 0.2); border: 2px solid #ff1744; color: #ff1744; width: 32px; height: 32px; border-radius: 6px; font-size: 16px; cursor: pointer;">‚úï</button>
        </div>
      `).join('');
    }
    
    function addOnlineSchedule() {
      const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
      const day = prompt('Select day:\n\n' + days.map((d, i) => (i + 1) + '. ' + d).join('\n'));
      
      if (!day || day < 1 || day > 7) return;
      
      const dayName = days[parseInt(day) - 1];
      const startTime = prompt('Start time (24-hour format):\nExample: 18:00');
      if (!startTime || !startTime.match(/^\d{2}:\d{2}$/)) {
        alert('Invalid time format. Use HH:MM (e.g., 18:00)');
        return;
      }
      
      const endTime = prompt('End time (24-hour format):\nExample: 23:00');
      if (!endTime || !endTime.match(/^\d{2}:\d{2}$/)) {
        alert('Invalid time format. Use HH:MM (e.g., 23:00)');
        return;
      }
      
      onlineSchedule.push({
        id: Date.now(),
        day: dayName,
        startTime: startTime,
        endTime: endTime
      });
      
      renderOnlineSchedule();
      alert('‚úÖ Online hours added!\n\n' + dayName + '\n' + startTime + ' - ' + endTime);
    }
    
    function addLiveSchedule() {
      const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
      const day = prompt('Select day:\n\n' + days.map((d, i) => (i + 1) + '. ' + d).join('\n'));
      
      if (!day || day < 1 || day > 7) return;
      
      const dayName = days[parseInt(day) - 1];
      const startTime = prompt('Start time (24-hour format):\nExample: 20:00');
      if (!startTime || !startTime.match(/^\d{2}:\d{2}$/)) {
        alert('Invalid time format. Use HH:MM (e.g., 20:00)');
        return;
      }
      
      const endTime = prompt('End time (24-hour format):\nExample: 22:00');
      if (!endTime || !endTime.match(/^\d{2}:\d{2}$/)) {
        alert('Invalid time format. Use HH:MM (e.g., 22:00)');
        return;
      }
      
      liveSchedule.push({
        id: Date.now(),
        day: dayName,
        startTime: startTime,
        endTime: endTime
      });
      
      renderLiveSchedule();
      alert('‚úÖ Live hours added!\n\n' + dayName + '\n' + startTime + ' - ' + endTime);
    }
    
    function deleteOnlineSchedule(id) {
      const slot = onlineSchedule.find(s => s.id === id);
      if (!slot) return;
      
      if (confirm('Delete this online schedule?\n\n' + slot.day + '\n' + slot.startTime + ' - ' + slot.endTime)) {
        onlineSchedule = onlineSchedule.filter(s => s.id !== id);
        renderOnlineSchedule();
      }
    }
    
    function deleteLiveSchedule(id) {
      const slot = liveSchedule.find(s => s.id === id);
      if (!slot) return;
      
      if (confirm('Delete this live schedule?\n\n' + slot.day + '\n' + slot.startTime + ' - ' + slot.endTime)) {
        liveSchedule = liveSchedule.filter(s => s.id !== id);
        renderLiveSchedule();
      }
    }
    
    // Profile Page Functions
    function openProfile(streamerName, avatar, color) {
      currentProfile = { name: streamerName, avatar: avatar, color: color };
      
      document.getElementById('profileAvatar').innerHTML = avatar;
      document.getElementById('profileAvatar').style.background = color;
      document.getElementById('profileName').textContent = streamerName;
      
      // Render schedules
      const onlineScheduleDiv = document.getElementById('profileOnlineSchedule');
      if (onlineSchedule.length === 0) {
        onlineScheduleDiv.innerHTML = '<div style="color: #666; font-size: 13px;">No online hours set</div>';
      } else {
        onlineScheduleDiv.innerHTML = onlineSchedule.map(slot => `
          <div style="background: rgba(255, 193, 7, 0.1); border: 1px solid #ffc107; border-radius: 6px; padding: 10px; display: flex; justify-content: space-between; align-items: center;">
            <span style="font-size: 13px; font-weight: 700; color: #fff;">${slot.day}</span>
            <span style="font-size: 12px; color: #ffc107;">${slot.startTime} - ${slot.endTime}</span>
          </div>
        `).join('');
      }
      
      const liveScheduleDiv = document.getElementById('profileLiveSchedule');
      if (liveSchedule.length === 0) {
        liveScheduleDiv.innerHTML = '<div style="color: #666; font-size: 13px;">No live hours set</div>';
      } else {
        liveScheduleDiv.innerHTML = liveSchedule.map(slot => `
          <div style="background: rgba(255, 23, 68, 0.1); border: 1px solid #ff1744; border-radius: 6px; padding: 10px; display: flex; justify-content: space-between; align-items: center;">
            <span style="font-size: 13px; font-weight: 700; color: #fff;">${slot.day}</span>
            <span style="font-size: 12px; color: #ff1744;">${slot.startTime} - ${slot.endTime}</span>
          </div>
        `).join('');
      }
      
      showPage('profile');
    }
    
    function bookPrivateShow() {
      alert('üìÖ Book Private Show\n\n' + currentProfile.name + '\n\nFeature coming soon!\n\nYou\'ll be able to:\n‚Ä¢ Choose date & time\n‚Ä¢ Pre-pay with tokens\n‚Ä¢ Get calendar reminder\n‚Ä¢ Receive confirmation');
    }
    
    function sendMessage() {
      alert('üíå Send Message\n\n' + currentProfile.name + '\n\nFeature coming soon!\n\nYou\'ll be able to:\n‚Ä¢ Send private messages\n‚Ä¢ Attach photos\n‚Ä¢ Schedule shows\n‚Ä¢ Build relationship');
    }

    // Initialize on load
    init();
    setupDashboardListeners();
    renderLovenseLevelsList();
    renderTipButtonEditors();
    renderOnlineSchedule();
    renderLiveSchedule();
    
    // Check if opening to a profile page
    try {
      const profileData = localStorage.getItem('viewProfile');
      if (profileData) {
        localStorage.removeItem('viewProfile');
        const profile = JSON.parse(profileData);
        openProfile(profile.name, profile.avatar, profile.color);
      }
    } catch (e) {
      // Ignore localStorage errors on mobile
    }
  </script>
</body>
</html>